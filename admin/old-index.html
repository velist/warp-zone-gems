<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ® Warp Zone Gems - æœ¬åœ°ç®¡ç†åå°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* é©¬é‡Œå¥¥ä¸»é¢˜æ ·å¼ */
        .mario-button {
            background: linear-gradient(135deg, #ff6b6b, #ee5a5a);
            box-shadow: 0 4px 15px rgba(238, 90, 90, 0.4);
            border: 3px solid #fff;
            transition: all 0.3s ease;
        }
        .mario-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(238, 90, 90, 0.6);
        }
        .blue-button {
            background: linear-gradient(135deg, #4299e1, #2b77cb);
            box-shadow: 0 4px 15px rgba(66, 153, 225, 0.4);
            border: 3px solid #fff;
        }
        .green-button {
            background: linear-gradient(135deg, #48bb78, #38a169);
            box-shadow: 0 4px 15px rgba(72, 187, 120, 0.4);
            border: 3px solid #fff;
        }
        .yellow-button {
            background: linear-gradient(135deg, #ed8936, #dd7724);
            box-shadow: 0 4px 15px rgba(237, 137, 54, 0.4);
            border: 3px solid #fff;
        }
        .purple-button {
            background: linear-gradient(135deg, #9f7aea, #805ad5);
            box-shadow: 0 4px 15px rgba(159, 122, 234, 0.4);
            border: 3px solid #fff;
        }
        .tab-active {
            background: linear-gradient(135deg, #4299e1, #2b77cb);
            color: white;
            border-bottom: 3px solid #2b77cb;
        }
        .coin-shine {
            animation: shine 2s infinite;
        }
        @keyframes shine {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        .floating {
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        .status-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            padding: 20px;
            color: white;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background-color: white;
            padding: 20px;
            border-radius: 15px;
            max-width: 90%;
            max-height: 90%;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }
        .form-input {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
        }
        .form-input:focus {
            border-color: #4299e1;
            outline: none;
        }
        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }
        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 5px;
        }
        .status-active { background-color: #48bb78; }
        .status-inactive { background-color: #f56565; }
        .status-hidden { background-color: #ed8936; }
        .mario-gradient {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        }
        .coin-shine {
            animation: coinShine 2s infinite;
        }
        @keyframes coinShine {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .success-animation {
            animation: successPulse 0.6s ease-out;
        }
        @keyframes successPulse {
            0% { transform: scale(1); background-color: rgb(34, 197, 94); }
            50% { transform: scale(1.05); background-color: rgb(22, 163, 74); }
            100% { transform: scale(1); background-color: rgb(34, 197, 94); }
        }
        .processing {
            background: linear-gradient(90deg, #3b82f6, #1d4ed8, #3b82f6);
            background-size: 200% 100%;
            animation: gradient 2s ease infinite;
        }
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- å¤´éƒ¨ -->
    <header class="mario-gradient text-white shadow-lg">
        <div class="max-w-6xl mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="text-2xl">ğŸ®</div>
                    <div>
                        <h1 class="text-xl font-bold">Warp Zone Gems</h1>
                        <p class="text-blue-100 text-sm">æœ¬åœ°ç®¡ç†åå°</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div id="status-indicator" class="flex items-center space-x-2">
                        <div class="w-3 h-3 bg-green-400 rounded-full coin-shine"></div>
                        <span class="text-sm">æœ¬åœ°ç¯å¢ƒ</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="max-w-6xl mx-auto px-4 py-6">
        <!-- ç»Ÿè®¡å¡ç‰‡ -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <div class="bg-white rounded-lg shadow p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-sm">æ¸¸æˆæ€»æ•°</p>
                        <p id="games-count" class="text-2xl font-bold text-blue-600">0</p>
                    </div>
                    <div class="text-3xl">ğŸ¯</div>
                </div>
            </div>
            
            <div class="bg-white rounded-lg shadow p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-sm">åˆ†ç±»æ•°é‡</p>
                        <p id="categories-count" class="text-2xl font-bold text-green-600">6</p>
                    </div>
                    <div class="text-3xl">ğŸ“</div>
                </div>
            </div>
            
            <div class="bg-white rounded-lg shadow p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-sm">æ€»ä¸‹è½½é‡</p>
                        <p id="total-downloads" class="text-2xl font-bold text-yellow-600">0</p>
                    </div>
                    <div class="text-3xl">â¬‡ï¸</div>
                </div>
            </div>
            
            <div class="bg-white rounded-lg shadow p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-sm">AIçŠ¶æ€</p>
                        <p id="ai-status" class="text-2xl font-bold text-purple-600">æœªé…ç½®</p>
                    </div>
                    <div class="text-3xl">ğŸ¤–</div>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- AIæ‰¹é‡å¯¼å…¥é¢æ¿ -->
            <div class="lg:col-span-2 bg-white rounded-lg shadow">
                <div class="p-6 border-b border-gray-200">
                    <h2 class="text-lg font-semibold flex items-center space-x-2">
                        <span>ğŸ¤–</span>
                        <span>AIæ‰¹é‡å¯¼å…¥</span>
                    </h2>
                    <p class="text-gray-600 text-sm mt-1">ä½¿ç”¨AIæ™ºèƒ½è§£æå’Œæ‰¹é‡å¯¼å…¥æ¸¸æˆä¿¡æ¯</p>
                </div>
                
                <div class="p-6 space-y-4">
                    <!-- API Keyé…ç½® -->
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-700">Silicon Flow API Key</label>
                        <div class="flex space-x-2">
                            <input 
                                type="password" 
                                id="api-key"
                                placeholder="è¾“å…¥ä½ çš„API Key"
                                class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                            >
                            <button 
                                onclick="testApiKey()"
                                class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors"
                            >
                                æµ‹è¯•
                            </button>
                        </div>
                        <p class="text-xs text-gray-500">
                            è·å–API Key: <a href="https://cloud.siliconflow.cn/" target="_blank" class="text-blue-600 hover:underline">Silicon Flowå®˜ç½‘</a>
                        </p>
                    </div>

                    <!-- è¾“å…¥æ–¹å¼é€‰æ‹© -->
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-700">è¾“å…¥æ–¹å¼</label>
                        <div class="grid grid-cols-2 gap-2">
                            <button 
                                onclick="setInputMode('text')"
                                id="btn-text"
                                class="p-3 border-2 border-gray-300 rounded-lg text-center hover:border-blue-500 transition-colors input-mode-btn"
                            >
                                ğŸ“ æ–‡æœ¬è¾“å…¥
                            </button>
                            <button 
                                onclick="setInputMode('file')"
                                id="btn-file"
                                class="p-3 border-2 border-gray-300 rounded-lg text-center hover:border-blue-500 transition-colors input-mode-btn"
                            >
                                ğŸ“„ æ–‡ä»¶ä¸Šä¼ 
                            </button>
                        </div>
                    </div>

                    <!-- æ–‡æœ¬è¾“å…¥åŒºåŸŸ -->
                    <div id="text-input-area" class="space-y-2">
                        <label class="block text-sm font-medium text-gray-700">æ¸¸æˆä¿¡æ¯</label>
                        <textarea 
                            id="game-input"
                            rows="8"
                            placeholder="è¯·è¾“å…¥æ¸¸æˆä¿¡æ¯ï¼Œæ”¯æŒå¤šç§æ ¼å¼ï¼š

1. ç®€å•åˆ—è¡¨ï¼š
Super Mario Bros.
Mario Kart 8 Deluxe
Super Mario Odyssey

2. å¸¦æè¿°ï¼š
Super Mario Bros. - ç»å…¸çš„å¹³å°è·³è·ƒæ¸¸æˆ
Mario Kart 8 Deluxe - æœ€å—æ¬¢è¿çš„èµ›è½¦æ¸¸æˆ

3. è¯¦ç»†ä¿¡æ¯ï¼š
æ ‡é¢˜ï¼šSuper Mario Bros.
åˆ†ç±»ï¼šå¹³å°è·³è·ƒ
æè¿°ï¼šç»å…¸çš„é©¬é‡Œå¥¥æ¸¸æˆ..."
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm"
                        ></textarea>
                        <div class="flex justify-between text-xs text-gray-500">
                            <span>æ”¯æŒå¤åˆ¶ç²˜è´´ä»»ä½•åŒ…å«æ¸¸æˆä¿¡æ¯çš„æ–‡æœ¬</span>
                            <span id="char-count">0 å­—ç¬¦</span>
                        </div>
                    </div>

                    <!-- æ–‡ä»¶ä¸Šä¼ åŒºåŸŸ -->
                    <div id="file-input-area" class="space-y-2 hidden">
                        <label class="block text-sm font-medium text-gray-700">ä¸Šä¼ æ–‡ä»¶</label>
                        <div 
                            id="file-drop-zone"
                            class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-500 transition-colors cursor-pointer"
                        >
                            <div class="text-4xl mb-2">ğŸ“</div>
                            <p class="text-gray-600">ç‚¹å‡»é€‰æ‹©æ–‡ä»¶æˆ–æ‹–æ‹½åˆ°æ­¤å¤„</p>
                            <p class="text-xs text-gray-500 mt-1">æ”¯æŒ .txt, .md, .csv æ ¼å¼</p>
                            <input 
                                type="file" 
                                id="file-input"
                                accept=".txt,.md,.csv"
                                class="hidden"
                            >
                        </div>
                        <div id="file-info" class="hidden text-sm text-gray-600"></div>
                    </div>

                    <!-- å¤„ç†æŒ‰é’® -->
                    <div class="flex justify-between items-center">
                        <div class="text-sm text-gray-600">
                            <span id="processing-info">å‡†å¤‡å°±ç»ª</span>
                        </div>
                        <button 
                            onclick="startProcessing()"
                            id="process-btn"
                            class="px-6 py-2 mario-gradient text-white rounded-md hover:opacity-90 transition-opacity disabled:opacity-50"
                        >
                            ğŸš€ å¼€å§‹å¤„ç†
                        </button>
                    </div>

                    <!-- è¿›åº¦æ¡ -->
                    <div id="progress-area" class="hidden space-y-2">
                        <div class="flex justify-between text-sm text-gray-600">
                            <span id="progress-text">å¤„ç†ä¸­...</span>
                            <span id="progress-percent">0%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div id="progress-bar" class="processing h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ç³»ç»Ÿä¿¡æ¯é¢æ¿ -->
            <div class="space-y-6">
                <!-- å¿«é€Ÿæ“ä½œ -->
                <div class="bg-white rounded-lg shadow">
                    <div class="p-4 border-b border-gray-200">
                        <h3 class="font-semibold flex items-center space-x-2">
                            <span>âš¡</span>
                            <span>å¿«é€Ÿæ“ä½œ</span>
                        </h3>
                    </div>
                    <div class="p-4 space-y-3">
                        <button 
                            onclick="viewWebsite()"
                            class="w-full p-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2"
                        >
                            <span>ğŸŒ</span>
                            <span>æŸ¥çœ‹ç½‘ç«™</span>
                        </button>
                        
                        <button 
                            onclick="openDataFolder()"
                            class="w-full p-3 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors flex items-center justify-center space-x-2"
                        >
                            <span>ğŸ“</span>
                            <span>æ‰“å¼€æ•°æ®æ–‡ä»¶</span>
                        </button>
                        
                        <button 
                            onclick="deployToGitHub()"
                            class="w-full p-3 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors flex items-center justify-center space-x-2"
                        >
                            <span>ğŸš€</span>
                            <span>éƒ¨ç½²åˆ°GitHub</span>
                        </button>
                    </div>
                </div>

                <!-- ç³»ç»ŸçŠ¶æ€ -->
                <div class="bg-white rounded-lg shadow">
                    <div class="p-4 border-b border-gray-200">
                        <h3 class="font-semibold flex items-center space-x-2">
                            <span>ğŸ“Š</span>
                            <span>ç³»ç»ŸçŠ¶æ€</span>
                        </h3>
                    </div>
                    <div class="p-4 space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Node.js</span>
                            <span id="node-version" class="text-green-600 font-mono">æ£€æµ‹ä¸­...</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">æ•°æ®æ–‡ä»¶</span>
                            <span id="data-status" class="text-green-600">âœ“ æ­£å¸¸</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">GitçŠ¶æ€</span>
                            <span id="git-status" class="text-gray-600">æ£€æµ‹ä¸­...</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">æœ¬åœ°æœåŠ¡å™¨</span>
                            <span class="text-green-600">âœ“ è¿è¡Œä¸­</span>
                        </div>
                    </div>
                </div>

                <!-- æœ€è¿‘æ´»åŠ¨ -->
                <div class="bg-white rounded-lg shadow">
                    <div class="p-4 border-b border-gray-200">
                        <h3 class="font-semibold flex items-center space-x-2">
                            <span>ğŸ“</span>
                            <span>æœ€è¿‘æ´»åŠ¨</span>
                        </h3>
                    </div>
                    <div id="recent-activities" class="p-4 text-sm text-gray-600">
                        <p>æš‚æ— æ´»åŠ¨è®°å½•</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- å¤„ç†ç»“æœé¢æ¿ -->
        <div id="results-panel" class="hidden mt-6 bg-white rounded-lg shadow">
            <div class="p-6 border-b border-gray-200">
                <h2 class="text-lg font-semibold flex items-center space-x-2">
                    <span>âœ…</span>
                    <span>å¤„ç†ç»“æœ</span>
                </h2>
            </div>
            <div id="results-content" class="p-6">
                <!-- ç»“æœå†…å®¹å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </div>

    <!-- æˆåŠŸæç¤ºæ¨¡æ€æ¡† -->
    <div id="success-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg p-6 max-w-md mx-4">
            <div class="text-center">
                <div class="text-6xl mb-4">ğŸ‰</div>
                <h3 class="text-lg font-semibold mb-2">å¤„ç†æˆåŠŸï¼</h3>
                <p id="success-message" class="text-gray-600 mb-4"></p>
                <button 
                    onclick="closeSuccessModal()"
                    class="px-6 py-2 mario-gradient text-white rounded-md hover:opacity-90 transition-opacity"
                >
                    ç¡®å®š
                </button>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let currentInputMode = 'text';
        let processingData = null;
        let gamesData = [];
        let categoriesData = [];

        // é¡µé¢åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializePage();
            setupEventListeners();
            loadDataStats();
            detectSystemInfo();
        });

        // åˆå§‹åŒ–é¡µé¢
        function initializePage() {
            // è®¾ç½®é»˜è®¤è¾“å…¥æ¨¡å¼
            setInputMode('text');
            
            // æ£€æŸ¥æœ¬åœ°å­˜å‚¨çš„API Key
            const savedApiKey = localStorage.getItem('silicon_flow_api_key');
            if (savedApiKey) {
                document.getElementById('api-key').value = savedApiKey;
                updateAIStatus('å·²é…ç½®');
            }
            
            // æ·»åŠ å­—ç¬¦è®¡æ•°
            const gameInput = document.getElementById('game-input');
            const charCount = document.getElementById('char-count');
            gameInput.addEventListener('input', function() {
                charCount.textContent = this.value.length + ' å­—ç¬¦';
            });
        }

        // è®¾ç½®äº‹ä»¶ç›‘å¬
        function setupEventListeners() {
            // æ–‡ä»¶æ‹–æ‹½
            const dropZone = document.getElementById('file-drop-zone');
            const fileInput = document.getElementById('file-input');

            dropZone.addEventListener('click', () => fileInput.click());
            dropZone.addEventListener('dragover', (e) => {
                e.preventDefault();
                dropZone.classList.add('border-blue-500');
            });
            dropZone.addEventListener('dragleave', () => {
                dropZone.classList.remove('border-blue-500');
            });
            dropZone.addEventListener('drop', (e) => {
                e.preventDefault();
                dropZone.classList.remove('border-blue-500');
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    handleFileSelect(files[0]);
                }
            });

            fileInput.addEventListener('change', (e) => {
                if (e.target.files.length > 0) {
                    handleFileSelect(e.target.files[0]);
                }
            });
        }

        // è®¾ç½®è¾“å…¥æ¨¡å¼
        function setInputMode(mode) {
            currentInputMode = mode;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.input-mode-btn').forEach(btn => {
                btn.classList.remove('border-blue-500', 'bg-blue-50');
            });
            
            const activeBtn = document.getElementById(`btn-${mode}`);
            activeBtn.classList.add('border-blue-500', 'bg-blue-50');
            
            // åˆ‡æ¢æ˜¾ç¤ºåŒºåŸŸ
            const textArea = document.getElementById('text-input-area');
            const fileArea = document.getElementById('file-input-area');
            
            if (mode === 'text') {
                textArea.classList.remove('hidden');
                fileArea.classList.add('hidden');
            } else {
                textArea.classList.add('hidden');
                fileArea.classList.remove('hidden');
            }
        }

        // å¤„ç†æ–‡ä»¶é€‰æ‹©
        function handleFileSelect(file) {
            const fileInfo = document.getElementById('file-info');
            const reader = new FileReader();
            
            reader.onload = function(e) {
                const content = e.target.result;
                document.getElementById('game-input').value = content;
                fileInfo.innerHTML = `
                    <div class="flex items-center space-x-2">
                        <span class="text-green-600">âœ“</span>
                        <span>å·²è¯»å–: ${file.name} (${content.length} å­—ç¬¦)</span>
                    </div>
                `;
                fileInfo.classList.remove('hidden');
            };
            
            reader.readAsText(file);
        }

        // æµ‹è¯•API Key
        async function testApiKey() {
            const apiKey = document.getElementById('api-key').value.trim();
            if (!apiKey) {
                alert('è¯·è¾“å…¥API Key');
                return;
            }

            try {
                // è¿™é‡Œæ¨¡æ‹ŸAPIæµ‹è¯•ï¼Œå®é™…éœ€è¦è°ƒç”¨çœŸå®API
                updateAIStatus('æµ‹è¯•ä¸­...');
                
                // ä¿å­˜API Key
                localStorage.setItem('silicon_flow_api_key', apiKey);
                
                // æ¨¡æ‹Ÿå»¶è¿Ÿ
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                updateAIStatus('å·²é…ç½®');
                addActivity('API Keyé…ç½®æˆåŠŸ');
                alert('âœ… API Keyæµ‹è¯•æˆåŠŸï¼');
                
            } catch (error) {
                updateAIStatus('é…ç½®å¤±è´¥');
                alert('âŒ API Keyæµ‹è¯•å¤±è´¥: ' + error.message);
            }
        }

        // å¼€å§‹å¤„ç†
        async function startProcessing() {
            const apiKey = document.getElementById('api-key').value.trim();
            const gameInput = document.getElementById('game-input').value.trim();
            
            if (!apiKey) {
                alert('è¯·å…ˆé…ç½®API Key');
                return;
            }
            
            if (!gameInput) {
                alert('è¯·è¾“å…¥æ¸¸æˆä¿¡æ¯');
                return;
            }

            // æ˜¾ç¤ºè¿›åº¦
            showProgress();
            setProcessingState(true);
            
            try {
                // æ¨¡æ‹ŸAIå¤„ç†è¿‡ç¨‹
                await simulateAIProcessing(gameInput);
                
                // æ˜¾ç¤ºæˆåŠŸç»“æœ
                showSuccess('æˆåŠŸå¤„ç†äº† 5 ä¸ªæ¸¸æˆï¼Œå·²æ›´æ–°åˆ°æœ¬åœ°æ•°æ®æ–‡ä»¶');
                addActivity(`AIæ‰¹é‡å¯¼å…¥: å¤„ç†äº† ${gameInput.split('\n').filter(line => line.trim()).length} è¡Œæ•°æ®`);
                
                // åˆ·æ–°ç»Ÿè®¡
                loadDataStats();
                
            } catch (error) {
                alert('âŒ å¤„ç†å¤±è´¥: ' + error.message);
                addActivity('å¤„ç†å¤±è´¥: ' + error.message);
            } finally {
                hideProgress();
                setProcessingState(false);
            }
        }

        // æ¨¡æ‹ŸAIå¤„ç†
        async function simulateAIProcessing(input) {
            const lines = input.split('\n').filter(line => line.trim());
            const total = lines.length;
            
            for (let i = 0; i < total; i++) {
                // æ›´æ–°è¿›åº¦
                const progress = Math.round((i + 1) / total * 100);
                updateProgress(progress, `å¤„ç†ä¸­ (${i + 1}/${total})`);
                
                // æ¨¡æ‹Ÿå¤„ç†å»¶è¿Ÿ
                await new Promise(resolve => setTimeout(resolve, 500));
            }
            
            // æ¨¡æ‹Ÿä¿å­˜åˆ°æ–‡ä»¶
            updateProgress(100, 'ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶...');
            await new Promise(resolve => setTimeout(resolve, 1000));
        }

        // æ˜¾ç¤ºè¿›åº¦
        function showProgress() {
            document.getElementById('progress-area').classList.remove('hidden');
            updateProgress(0, 'å‡†å¤‡å¤„ç†...');
        }

        // éšè—è¿›åº¦
        function hideProgress() {
            document.getElementById('progress-area').classList.add('hidden');
        }

        // æ›´æ–°è¿›åº¦
        function updateProgress(percent, text) {
            document.getElementById('progress-bar').style.width = percent + '%';
            document.getElementById('progress-percent').textContent = percent + '%';
            document.getElementById('progress-text').textContent = text;
        }

        // è®¾ç½®å¤„ç†çŠ¶æ€
        function setProcessingState(processing) {
            const btn = document.getElementById('process-btn');
            if (processing) {
                btn.disabled = true;
                btn.textContent = 'ğŸ”„ å¤„ç†ä¸­...';
                document.getElementById('processing-info').textContent = 'AIæ­£åœ¨å¤„ç†ä¸­ï¼Œè¯·ç¨å€™...';
            } else {
                btn.disabled = false;
                btn.textContent = 'ğŸš€ å¼€å§‹å¤„ç†';
                document.getElementById('processing-info').textContent = 'å‡†å¤‡å°±ç»ª';
            }
        }

        // æ˜¾ç¤ºæˆåŠŸæç¤º
        function showSuccess(message) {
            document.getElementById('success-message').textContent = message;
            document.getElementById('success-modal').classList.remove('hidden');
        }

        // å…³é—­æˆåŠŸæç¤º
        function closeSuccessModal() {
            document.getElementById('success-modal').classList.add('hidden');
        }

        // æ›´æ–°AIçŠ¶æ€
        function updateAIStatus(status) {
            document.getElementById('ai-status').textContent = status;
        }

        // åŠ è½½æ•°æ®ç»Ÿè®¡
        function loadDataStats() {
            // è¿™é‡Œæ¨¡æ‹Ÿè¯»å–æœ¬åœ°æ•°æ®æ–‡ä»¶
            // å®é™…å®ç°éœ€è¦é€šè¿‡APIæˆ–æ–‡ä»¶è¯»å–
            
            // æ¨¡æ‹Ÿæ•°æ®
            const gamesCount = Math.floor(Math.random() * 50) + 10;
            const totalDownloads = Math.floor(Math.random() * 10000) + 1000;
            
            document.getElementById('games-count').textContent = gamesCount;
            document.getElementById('total-downloads').textContent = totalDownloads.toLocaleString();
        }

        // æ£€æµ‹ç³»ç»Ÿä¿¡æ¯
        function detectSystemInfo() {
            // æ£€æµ‹Node.jsç‰ˆæœ¬ï¼ˆæ¨¡æ‹Ÿï¼‰
            document.getElementById('node-version').textContent = 'v18.16.0';
            document.getElementById('git-status').textContent = 'âœ“ å·²åŒæ­¥';
        }

        // æ·»åŠ æ´»åŠ¨è®°å½•
        function addActivity(activity) {
            const container = document.getElementById('recent-activities');
            const time = new Date().toLocaleTimeString();
            const activityHtml = `
                <div class="border-b border-gray-200 pb-2 mb-2 last:border-b-0">
                    <div class="flex justify-between">
                        <span>${activity}</span>
                        <span class="text-xs text-gray-400">${time}</span>
                    </div>
                </div>
            `;
            
            if (container.innerHTML.includes('æš‚æ— æ´»åŠ¨è®°å½•')) {
                container.innerHTML = activityHtml;
            } else {
                container.innerHTML = activityHtml + container.innerHTML;
            }
        }

        // å¿«é€Ÿæ“ä½œå‡½æ•°
        function viewWebsite() {
            window.open('http://localhost:8082', '_blank');
        }

        function openDataFolder() {
            alert('è¯·åœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­æ‰“å¼€: src/data/ ç›®å½•');
        }

        function deployToGitHub() {
            if (confirm('ç¡®è®¤è¦éƒ¨ç½²åˆ°GitHub Pageså—ï¼Ÿè¿™å°†æäº¤å½“å‰æ›´æ”¹å¹¶æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚')) {
                alert('éƒ¨ç½²åŠŸèƒ½éœ€è¦åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ:\n\ngit add src/data/\ngit commit -m "æ›´æ–°æ¸¸æˆæ•°æ®"\ngit push origin main');
            }
        }
    </script>
</body>
</html>
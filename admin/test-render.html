<!DOCTYPE html>
<html>
<head>
    <title>Test Render Function</title>
</head>
<body>
    <div id="test"></div>
    <script>
        // æµ‹è¯•renderGameItemå‡½æ•°
        function renderGameItem(game) {
            const statusClass = game.status === 'published' ? 'published' : 'draft';
            const statusText = game.status === 'published' ? 'å·²å‘å¸ƒ' : 'è‰ç¨¿';
            const statusBadgeClass = game.status === 'published' ? 'status-published' : 'status-draft';
            
            // åˆ›å»ºå ä½ç¬¦å›¾ç‰‡
            const placeholderSvg = `data:image/svg+xml;base64,${btoa(`
                <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80">
                    <rect width="80" height="80" fill="#f3f4f6"/>
                    <text x="40" y="35" font-family="Arial" font-size="12" fill="#6b7280" text-anchor="middle">ğŸ®</text>
                    <text x="40" y="50" font-family="Arial" font-size="8" fill="#6b7280" text-anchor="middle">å°é¢å›¾</text>
                </svg>
            `)}`;
            
            const errorSvg = `data:image/svg+xml;base64,${btoa(`
                <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80">
                    <rect width="80" height="80" fill="#f3f4f6"/>
                    <text x="40" y="35" font-family="Arial" font-size="12" fill="#6b7280" text-anchor="middle">ğŸ®</text>
                    <text x="40" y="50" font-family="Arial" font-size="8" fill="#6b7280" text-anchor="middle">åŠ è½½å¤±è´¥</text>
                </svg>
            `)}`;
            
            const imageUrl = game.cover_image && game.cover_image !== '/placeholder.svg' ? 
                game.cover_image : placeholderSvg;
            
            return `
                <div class="game-item ${statusClass}">
                    <div class="flex items-start space-x-4">
                        <img src="${imageUrl}" alt="${game.title}" 
                             class="w-20 h-20 object-cover rounded-lg flex-shrink-0 bg-gray-100"
                             onerror="this.src='${errorSvg}'">
                        <div class="flex-1 min-w-0">
                            <div class="flex items-start justify-between">
                                <div class="flex-1">
                                    <h3 class="font-bold text-lg text-gray-900 truncate">${game.title}</h3>
                                    <p class="text-sm text-gray-600 mb-2">${game.category}</p>
                                    <p class="text-sm text-gray-500 line-clamp-2">${game.description || 'æš‚æ— æè¿°'}</p>
                                </div>
                                <span class="status-badge ${statusBadgeClass} ml-2">${statusText}</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // æµ‹è¯•æ•°æ®
        const testGame = {
            id: "test",
            title: "Test Game",
            category: "æµ‹è¯•",
            description: "è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ¸¸æˆ",
            status: "published",
            cover_image: "/placeholder.svg"
        };

        try {
            const html = renderGameItem(testGame);
            document.getElementById('test').innerHTML = html;
            console.log('æ¸²æŸ“æˆåŠŸ');
        } catch (error) {
            console.error('æ¸²æŸ“å¤±è´¥:', error);
            document.getElementById('test').innerHTML = '<p>æ¸²æŸ“å¤±è´¥: ' + error.message + '</p>';
        }
    </script>
</body>
</html>